<div id="catagolo" data-role="view" data-title="Revista" data-layout="inicio" data-model="app.home" data-init="app.home.onShow" data-after-show="app.home.afterShow" data-zoom="true">
    <!-- START_CUSTOM_CODE_home -->
    <!-- Add custom code here. For more information about custom code, see http://docs.telerik.com/platform/screenbuilder/troubleshooting/how-to-keep-custom-code-changes -->
    <!-- END_CUSTOM_CODE_home -->
    <!--div id="fondoinicio">
        <img src="img/imagen-de-ingreso.png" style="width:100%" />
    </div>
    <div id="inicio"> 
		<form class="formulario form-group">
            <ul class="form-content" data-role="listview" data-style="inset">
                <li class="col-xs-8 col-xs-offset-2">
                    <label>Usuario
                        <input data-bind="value: homeModel.fields.usuario" type="text">
                    </label>
                </li>
                <li class="col-xs-8 col-xs-offset-2">
                    <label>Contraseña
                        <input data-bind="value: homeModel.fields.contrasena" type="password">
                    </label>
                </li>
            </ul>
            <div class="col-xs-8 col-xs-offset-2 boton">
                <button type="button" data-bind="events: { click: homeModel.sesion }" class="btn btn-default col-xs-8 col-xs-offset-2 azul borde">Aceptar</button>
            </div>
        </form>
    </div-->
    <div id="example">
        <div id="wrap" class="first-page"> 
            <ul id="book">
                <li><img src="components/pageturn/pagina/28.jpg" alt="Page 28" />
                </li>
                <li><img src="components/pageturn/pagina/27.jpg" alt="Page 27" />
                </li>
                <li><img src="components/pageturn/pagina/26.jpg" alt="Page 26" />
                </li>
                <li><img src="components/pageturn/pagina/25.jpg" alt="Page 25" />
                </li>
                <li><img src="components/pageturn/pagina/24.jpg" alt="Page 24" />
                </li>
                <li><img src="components/pageturn/pagina/23.jpg" alt="Page 23" />
                </li>
                <li><img src="components/pageturn/pagina/22.jpg" alt="Page 22" />
                </li>
                <li><img src="components/pageturn/pagina/21.jpg" alt="Page 21" />
                </li>
                <li><img src="components/pageturn/pagina/20.jpg" alt="Page 20" />
                </li>
                <li><img src="components/pageturn/pagina/19.jpg" alt="Page 19" />
                </li>
                <li><img src="components/pageturn/pagina/18.jpg" alt="Page 18" />
                </li>
                <li><img src="components/pageturn/pagina/17.jpg" alt="Page 17" />
                </li>
                <li><img src="components/pageturn/pagina/16.jpg" alt="Page 16" />
                </li>
                <li><img src="components/pageturn/pagina/15.jpg" alt="Page 15" />
                </li>
                <li><img src="components/pageturn/pagina/14.jpg" alt="Page 14" />
                </li>
                <li><img src="components/pageturn/pagina/13.jpg" alt="Page 13" />
                </li>
                <li><img src="components/pageturn/pagina/12.jpg" alt="Page 12" />
                </li>
                <li><img src="components/pageturn/pagina/11.jpg" alt="Page 11" />
                </li> 
                <li><img src="components/pageturn/pagina/10.jpg" alt="Page 10" />
                </li>
                <li><img src="components/pageturn/pagina/9.jpg" alt="Page 9" />
                </li>
                <li><img src="components/pageturn/pagina/8.jpg" alt="Page 8" />
                </li>
                <li><img src="components/pageturn/pagina/7.jpg" alt="Page 7" />
                </li>
                <li><img src="components/pageturn/pagina/6.jpg" alt="Page 6" />
                </li>
                <li><img src="components/pageturn/pagina/5.jpg" alt="Page 5" />
                </li>
                <li><img src="components/pageturn/pagina/4.jpg" alt="Page 4" />
                </li>
                <li><img src="components/pageturn/pagina/3.jpg" alt="Page 3" />
                </li>
                <li><img src="components/pageturn/pagina/2.jpg" alt="Page 2" />
                </li>
                <li class="current"><img src="components/pageturn/pagina/1.jpg" alt="Page 1" />
                </li>
            </ul>
            <a href="#" id="previous">Previous page</a>
            <a href="#" id="next">Next page</a>
        </div>
        <script>
            $("#wrap").css("width", ($(window).width()) + "px");
            $("#wrap").css("height", ($(window).height() - 60) + "px");
            $("#book").css("height", ($(window).height() - 60) + "px");

            function current(page) {
                

                var book = $("#book"),
                    pages = book.children(),
                    pagesCount = pages.length,
                    current = pages.filter(".current"),
                    currentIndex = pagesCount - current.index(),
                    newPage;

                if (!arguments.length) {
                    return currentIndex;
                }

                if (book.data("animating")) {
                    return;
                }

                $("#wrap").toggleClass("first-page", page == 1)
                    .toggleClass("last-page", page == pagesCount);

                if (page != currentIndex) {
                    
                    console.log(currentIndex);
                    current.removeClass("current");
                    newPage = pages.eq(pagesCount - page).addClass("current");

                    if (page > currentIndex) {
                        kendo.fx(book).pageturnHorizontal(current, newPage).duration(1500).play();
                    } else {
                        kendo.fx(book).pageturnHorizontal(newPage, current).duration(1500).reverse();
                    }
                }
            }

            $("#previous").click(function (e) {
                e.preventDefault();
                current(Math.max(1, current() - 1));
            });

            $("#next").click(function (e) {
                e.preventDefault();
                current(Math.min(28, current() + 1));
            });
            $("#wrap").kendoTouch({
                enableSwipe: true,
                swipe: function (e) {
                    if (e.direction == "left") {
                        e.preventDefault();
                        //Si colocamos Math.min(...  mas de la cantidad de imágenes regresa al incio en el final  
                        current(Math.min(28, current() + 1));
                    } else {
                        e.preventDefault();
                        current(Math.max(1, current() - 1));
                    }
                }
            });
        </script>
        <style>
            #book li img {
                width: 100%;
                height: 95%;
                overflow: hidden !important;
                resize: both;
            }
            #wrap {
                /*                 Se comentó esto a pedido de Jhon */
                /*                 background-image: url("components/pageturn/book.png"); */
                background-repeat: no-repeat;
                background-size: 100% 100%;
                width: 375px;
                height: 510px;
                position: relative;
            }
            #book {
                position: relative;
                width: 94%;
                height: 480px;
                margin: 0 auto;
                padding: 30px 0px 0px 0px;
                list-style-type: none;
            }
            #book > li {
                position: absolute;
                width: 100%;
                height: 100%;
                background-color: transparent;
            }
            #actions {
                overflow: hidden;
                margin: 0 auto 3em;
                width: 650px;
                background-color: red;
            }
            #previous,
            #next {
                text-decoration: none;
                text-indent: -999em;
                overflow: hidden;
                display: block;
                height: 100%;
                width: 90px;
                position: absolute;
                top: 0;
                background-repeat: no-repeat;
                background-position: 50% 50%;
                opacity: .5
            }
            #previous:hover,
            #next:hover {
                opacity: 1;
            }
            #previous {
                left: 0;
                background-image: url("components/pageturn/arrow-left.png");
            }
            #next {
                right: 0;
                background-image: url("components/pageturn/arrow-right.png");
            }
            .first-page #previous,
            .last-page #next {
                display: none;
            }
        </style>
    </div>
</div>